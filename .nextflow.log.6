May-21 14:52:17.335 [main] DEBUG nextflow.cli.Launcher - $> nextflow run main_dynamic.nf -with-docker -with-report report.html -with-timeline timeline.html -name run_924c0203-85a4-45c6-a6e7-de83a4e1e13a
May-21 14:52:17.457 [main] DEBUG nextflow.cli.CmdRun - N E X T F L O W  ~  version 25.04.2
May-21 14:52:17.485 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/klgterry/.nextflow/plugins; core-plugins: nf-amazon@2.15.0,nf-azure@1.16.0,nf-cloudcache@0.4.3,nf-codecommit@0.2.3,nf-console@1.2.1,nf-google@1.21.0,nf-k8s@1.0.0,nf-tower@1.11.2,nf-wave@1.12.1
May-21 14:52:17.524 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
May-21 14:52:17.525 [main] INFO  o.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
May-21 14:52:17.529 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.12.0 in 'deployment' mode
May-21 14:52:17.544 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
May-21 14:52:17.572 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /home/klgterry/htvs_fastapi_with_upload/nextflow.config
May-21 14:52:17.575 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/klgterry/htvs_fastapi_with_upload/nextflow.config
May-21 14:52:17.619 [main] DEBUG n.secret.LocalSecretsProvider - Secrets store: /home/klgterry/.nextflow/secrets/store.json
May-21 14:52:17.625 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@48ea2003] - activable => nextflow.secret.LocalSecretsProvider@48ea2003
May-21 14:52:17.634 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `standard`
May-21 14:52:18.311 [main] DEBUG nextflow.config.ConfigBuilder - Enabling execution in Docker container as requested by command-line option `-with-docker -`
May-21 14:52:18.348 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 from script declaration
May-21 14:52:18.370 [main] DEBUG nextflow.cli.CmdRun - Launching `main_dynamic.nf` [run_924c0203-85a4-45c6-a6e7-de83a4e1e13a] DSL2 - revision: 308c16d821
May-21 14:52:18.373 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
May-21 14:52:18.374 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[]
May-21 14:52:18.461 [main] DEBUG nextflow.Session - Session UUID: ec612619-35a0-47eb-861c-9670510e6c31
May-21 14:52:18.462 [main] DEBUG nextflow.Session - Run name: run_924c0203-85a4-45c6-a6e7-de83a4e1e13a
May-21 14:52:18.463 [main] DEBUG nextflow.Session - Executor pool size: 48
May-21 14:52:18.478 [main] DEBUG nextflow.file.FilePorter - File porter settings maxRetries=3; maxTransfers=50; pollTimeout=null
May-21 14:52:18.489 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=144; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
May-21 14:52:18.526 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 25.04.2 build 5947
  Created: 13-05-2025 21:58 UTC (14-05-2025 06:58 KDT)
  System: Linux 6.8.0-59-generic
  Runtime: Groovy 4.0.26 on OpenJDK 64-Bit Server VM 21.0.7+6-Ubuntu-0ubuntu124.04
  Encoding: UTF-8 (UTF-8)
  Process: 3081494@node03 [127.0.1.1]
  CPUs: 48 - Mem: 125.5 GB (7.5 GB) - Swap: 8 GB (8 GB)
May-21 14:52:18.572 [main] DEBUG nextflow.Session - Work-dir: /home/klgterry/htvs_fastapi_with_upload/work [ext2/ext3]
May-21 14:52:18.573 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /home/klgterry/htvs_fastapi_with_upload/bin
May-21 14:52:18.593 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
May-21 14:52:18.608 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
May-21 14:52:18.630 [main] DEBUG nextflow.Session - Observer factory (v2): LinObserverFactory
May-21 14:52:18.676 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
May-21 14:52:18.692 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 49; maxThreads: 1000
May-21 14:52:18.773 [main] DEBUG nextflow.Session - Session start
May-21 14:52:18.784 [main] DEBUG nextflow.Session - Report file already exists: /home/klgterry/htvs_fastapi_with_upload/report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Report file already exists: /home/klgterry/htvs_fastapi_with_upload/report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.ReportObserver.onFlowCreate(ReportObserver.groovy:133)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
May-21 14:52:18.786 [main] DEBUG nextflow.Session - Timeline file already exists: /home/klgterry/htvs_fastapi_with_upload/timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
nextflow.exception.AbortOperationException: Timeline file already exists: /home/klgterry/htvs_fastapi_with_upload/timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TimelineObserver.onFlowCreate(TimelineObserver.groovy:76)
	at nextflow.Session$_notifyFlowCreate_lambda40.doCall(Session.groovy:1093)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowCreate(Session.groovy:1093)
	at nextflow.Session.start(Session.groovy:585)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:133)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
May-21 14:52:19.121 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
May-21 14:52:19.284 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:proteinPrep` matches process proteinPrep
May-21 14:52:19.298 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
May-21 14:52:19.298 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
May-21 14:52:19.308 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
May-21 14:52:19.320 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=48; memory=125.5 GB; capacity=48; pollInterval=100ms; dumpInterval=5m
May-21 14:52:19.323 [main] DEBUG n.processor.TaskPollingMonitor - >>> barrier register (monitor: local)
May-21 14:52:19.363 [main] DEBUG nextflow.processor.TaskProcessor - Creating process 'proteinPrep': maxForks=0; fair=false; array=0
May-21 14:52:19.453 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: proteinPrep
May-21 14:52:19.457 [main] DEBUG nextflow.Session - Igniting dataflow network (2)
May-21 14:52:19.465 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > proteinPrep
May-21 14:52:19.467 [main] DEBUG nextflow.script.ScriptRunner - Parsed script files:
  Script_0f972145dc621173: /home/klgterry/htvs_fastapi_with_upload/main_dynamic.nf
May-21 14:52:19.467 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
May-21 14:52:19.467 [main] DEBUG nextflow.Session - Session await
May-21 14:52:19.714 [Task submitter] DEBUG n.executor.local.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
May-21 14:52:19.719 [Task submitter] INFO  nextflow.Session - [31/91026c] Submitted process > proteinPrep
May-21 14:52:25.148 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: proteinPrep; status: COMPLETED; exit: 1; error: -; workDir: /home/klgterry/htvs_fastapi_with_upload/work/31/91026c2d22999deadd477ec54589bf]
May-21 14:52:25.150 [Task monitor] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'TaskFinalizer' minSize=10; maxSize=144; workQueue=LinkedBlockingQueue[-1]; allowCoreThreadTimeout=false
May-21 14:52:25.165 [TaskFinalizer-1] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=proteinPrep; work-dir=/home/klgterry/htvs_fastapi_with_upload/work/31/91026c2d22999deadd477ec54589bf
  error [nextflow.exception.ProcessFailedException]: Process `proteinPrep` terminated with an error exit status (1)
May-21 14:52:25.195 [TaskFinalizer-1] ERROR nextflow.processor.TaskProcessor - Error executing process > 'proteinPrep'

Caused by:
  Process `proteinPrep` terminated with an error exit status (1)


Command executed:

  bash /curate.sh
  
  echo 'â–¶ Copying output back into Nextflow work directory...'
  rm -rf curate/protein_prep
  mkdir -p curate
  cp -r /curate/protein_prep curate/

Command exit status:
  1

Command output:
  
  ==========
  == CUDA ==
  ==========
  
  CUDA Version 12.6.0
  
  Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
  
  This container image and its contents are governed by the NVIDIA Deep Learning Container License.
  By pulling and using the container, you accept the terms and conditions of this license:
  https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
  
  A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
  
  WARNING: The NVIDIA Driver was not detected.  GPU functionality will not be available.
     Use the NVIDIA Container Toolkit to start this container with GPU support; see
     https://docs.nvidia.com/datacenter/cloud-native/ .

Command error:
  
  ==========
  == CUDA ==
  ==========
  
  CUDA Version 12.6.0
  
  Container image Copyright (c) 2016-2023, NVIDIA CORPORATION & AFFILIATES. All rights reserved.
  
  This container image and its contents are governed by the NVIDIA Deep Learning Container License.
  By pulling and using the container, you accept the terms and conditions of this license:
  https://developer.nvidia.com/ngc/nvidia-deep-learning-container-license
  
  A copy of this license is made available in this container at /NGC-DL-CONTAINER-LICENSE for your convenience.
  
  WARNING: The NVIDIA Driver was not detected.  GPU functionality will not be available.
     Use the NVIDIA Container Toolkit to start this container with GPU support; see
     https://docs.nvidia.com/datacenter/cloud-native/ .
  
  Traceback (most recent call last):
    File "/protein_prep/protein_prep.py", line 48, in <module>
      main()
    File "/protein_prep/protein_prep.py", line 40, in main
      min_pdb, rmsd = run_pipeline()
    File "/protein_prep/protein_prep.py", line 8, in run_pipeline
      param = parse_arguments()
    File "/protein_prep/utils/init.py", line 9, in parse_arguments
      template_pdb = config["protein_prep"]["template_pdb"]
    File "/root/miniconda3/envs/protein_prep/lib/python3.10/configparser.py", line 965, in __getitem__
      raise KeyError(key)
  KeyError: 'protein_prep'

Work dir:
  /home/klgterry/htvs_fastapi_with_upload/work/31/91026c2d22999deadd477ec54589bf

Container:
  protein_prep:1.0.2

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
May-21 14:52:25.207 [main] DEBUG nextflow.Session - Session await > all processes finished
May-21 14:52:25.218 [TaskFinalizer-1] DEBUG nextflow.Session - Session aborted -- Cause: Process `proteinPrep` terminated with an error exit status (1)
May-21 14:52:25.245 [main] DEBUG nextflow.Session - Session await > all barriers passed
May-21 14:52:25.246 [Task monitor] DEBUG n.processor.TaskPollingMonitor - <<< barrier arrives (monitor: local) - terminating tasks monitor poll loop
May-21 14:52:25.253 [main] ERROR nextflow.script.WorkflowMetadata - Failed to invoke `workflow.onComplete` event handler
groovy.lang.MissingPropertyException: No such property: succeeded for class: nextflow.trace.WorkflowStats
Possible solutions: succeedPct
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:67)
	at org.codehaus.groovy.vmplugin.v8.IndyGuardsFiltersAndSignatures.unwrap(IndyGuardsFiltersAndSignatures.java:163)
	at org.codehaus.groovy.vmplugin.v8.IndyInterface.fromCache(IndyInterface.java:321)
	at Script_0f972145dc621173$_runScript_closure3.doCall(Script_0f972145dc621173:29)
	at Script_0f972145dc621173$_runScript_closure3.doCall(Script_0f972145dc621173)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:280)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at groovy.lang.Closure.call(Closure.java:433)
	at groovy.lang.Closure.call(Closure.java:412)
	at nextflow.script.WorkflowMetadata$_invokeOnComplete_closure3.doCall(WorkflowMetadata.groovy:426)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:280)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at groovy.lang.Closure.call(Closure.java:433)
	at groovy.lang.Closure.call(Closure.java:422)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2394)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2379)
	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2420)
	at nextflow.script.WorkflowMetadata.invokeOnComplete(WorkflowMetadata.groovy:424)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:343)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:328)
	at groovy.lang.MetaClassImpl.doInvokeMethod(MetaClassImpl.java:1333)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1088)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1007)
	at org.codehaus.groovy.runtime.InvokerHelper.invokePogoMethod(InvokerHelper.java:645)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethod(InvokerHelper.java:628)
	at org.codehaus.groovy.runtime.InvokerHelper.invokeMethodSafe(InvokerHelper.java:82)
	at nextflow.script.WorkflowMetadata$_closure2.doCall(WorkflowMetadata.groovy:287)
	at nextflow.script.WorkflowMetadata$_closure2.call(WorkflowMetadata.groovy)
	at groovy.lang.Closure.run(Closure.java:505)
	at nextflow.Session.shutdown0(Session.groovy:760)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
May-21 14:52:25.291 [main] DEBUG n.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=5.4s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
May-21 14:52:25.291 [main] DEBUG nextflow.trace.ReportObserver - Workflow completed -- rendering execution report
May-21 14:52:26.366 [main] WARN  nextflow.trace.ReportObserver - Failed to render execution report -- see the log file for details
nextflow.exception.AbortOperationException: Report file already exists: /home/klgterry/htvs_fastapi_with_upload/report.html -- enable the 'report.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.ReportObserver.renderHtml(ReportObserver.groovy:284)
	at nextflow.trace.ReportObserver.onFlowComplete(ReportObserver.groovy:143)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /home/klgterry/htvs_fastapi_with_upload/report.html
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:482)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:228)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:3001)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 12 common frames omitted
May-21 14:52:26.367 [main] DEBUG nextflow.trace.TimelineObserver - Workflow completed -- rendering execution timeline
May-21 14:52:26.463 [main] WARN  nextflow.trace.TimelineObserver - Failed to render execution timeline -- see the log file for details
nextflow.exception.AbortOperationException: Timeline file already exists: /home/klgterry/htvs_fastapi_with_upload/timeline.html -- enable the 'timeline.overwrite' option in your config file to overwrite existing files
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:67)
	at nextflow.trace.TimelineObserver.renderHtml(TimelineObserver.groovy:178)
	at nextflow.trace.TimelineObserver.onFlowComplete(TimelineObserver.groovy:87)
	at nextflow.Session$_notifyFlowComplete_lambda45.doCall(Session.groovy:1107)
	at nextflow.Session.notifyEvent(Session.groovy:1138)
	at nextflow.Session.notifyFlowComplete(Session.groovy:1107)
	at nextflow.Session.shutdown0(Session.groovy:768)
	at nextflow.Session.destroy(Session.groovy:713)
	at nextflow.script.ScriptRunner.shutdown(ScriptRunner.groovy:263)
	at nextflow.script.ScriptRunner.execute(ScriptRunner.groovy:147)
	at nextflow.cli.CmdRun.run(CmdRun.groovy:379)
	at nextflow.cli.Launcher.run(Launcher.groovy:513)
	at nextflow.cli.Launcher.main(Launcher.groovy:673)
Caused by: java.nio.file.FileAlreadyExistsException: /home/klgterry/htvs_fastapi_with_upload/timeline.html
	at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:94)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)
	at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)
	at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:261)
	at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:482)
	at java.base/java.nio.file.Files.newOutputStream(Files.java:228)
	at java.base/java.nio.file.Files.newBufferedWriter(Files.java:3001)
	at nextflow.trace.TraceHelper.newFileWriter(TraceHelper.groovy:64)
	... 12 common frames omitted
May-21 14:52:26.472 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
May-21 14:52:26.493 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
