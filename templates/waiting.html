{% extends "base.html" %}

{% block title %}ê²°ê³¼ ëŒ€ê¸° ì¤‘ â€“ AIDD{% endblock %}

{% block content %}
<div style="text-align: center; margin-top: 80px;">
  <h2 id="status">ğŸ”„ ê²°ê³¼ ìƒì„± ì¤‘ì…ë‹ˆë‹¤...</h2>
  <p>ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ìë™ìœ¼ë¡œ ê²°ê³¼ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.</p>
</div>

<script>
  const run_id = "{{ run_id }}";

  setInterval(() => {
    fetch(`/run_status/${run_id}`)
      .then(res => res.json())
      .then(data => {
        document.getElementById("status").textContent = `ğŸ”„ í˜„ì¬ ìƒíƒœ: ${data.status}`;
        if (data.status === "DONE") {
          window.location.href = `/results/${run_id}`;
        }
      })
      .catch(() => {
        document.getElementById("status").textContent = "âš ï¸ ìƒíƒœ í™•ì¸ ì¤‘ ì˜¤ë¥˜ ë°œìƒ. ë‹¤ì‹œ ì‹œë„ ì¤‘...";
      });
  }, 3000);
</script>
{% endblock %}
